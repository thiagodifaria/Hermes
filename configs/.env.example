# Hermes Environment Configuration Template

# Environment Configuration
HERMES_ENV=development  # development, staging, production

# Server Configuration
HERMES_SERVER_HOST=0.0.0.0
HERMES_SERVER_PORT=8080
HERMES_SERVER_READ_TIMEOUT=30s
HERMES_SERVER_WRITE_TIMEOUT=30s
HERMES_SERVER_IDLE_TIMEOUT=60s

# Database Configuration (PostgreSQL)
# Required: PostgreSQL connection URL
HERMES_DATABASE_URL=postgresql://hermes_user:hermes_password@localhost:5432/hermes_db?sslmode=require

# Connection pool settings
HERMES_DATABASE_MAX_OPEN_CONNS=25
HERMES_DATABASE_MAX_IDLE_CONNS=5
HERMES_DATABASE_CONN_MAX_LIFETIME=5m
HERMES_DATABASE_SSL_MODE=require

# Redis Configuration (Caching & Sessions)
# Optional for development, required for production
HERMES_REDIS_URL=redis://localhost:6379/0
HERMES_REDIS_MAX_RETRIES=3
HERMES_REDIS_DIAL_TIMEOUT=5s
HERMES_REDIS_POOL_SIZE=10

# Security Configuration
# CRITICAL: Generate secure random strings for production
# You can use: openssl rand -base64 32
HERMES_SECURITY_JWT_SECRET=your-super-secure-jwt-secret-here-at-least-32-chars
HERMES_SECURITY_ENCRYPTION_KEY=your-32-char-encryption-key-here!

# Token expiration settings
HERMES_SECURITY_JWT_EXPIRATION=15m
HERMES_SECURITY_REFRESH_EXPIRATION=168h  # 7 days

# Password policy
HERMES_SECURITY_PASSWORD_MIN_LENGTH=8
HERMES_SECURITY_PASSWORD_REQUIRE_SPECIAL=true

# Logging Configuration
HERMES_LOGGING_LEVEL=info       # trace, debug, info, warn, error, fatal, panic
HERMES_LOGGING_FORMAT=json      # json, console
HERMES_LOGGING_OUTPUT=stdout    # stdout, stderr, or file path

# NATS Configuration (Message Queue)
# Optional for development, required for production scaling
HERMES_NATS_URL=nats://localhost:4222
HERMES_NATS_MAX_RECONNECTS=10

# CORS Configuration
# Comma-separated list of allowed origins
HERMES_CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173

# Rate Limiting Configuration
HERMES_RATE_LIMIT_ENABLED=true
HERMES_RATE_LIMIT_RPS=100
HERMES_RATE_LIMIT_BURST=200

# OAuth2 Configuration

# Google OAuth2
HERMES_OAUTH_GOOGLE_CLIENT_ID=your-google-client-id.googleusercontent.com
HERMES_OAUTH_GOOGLE_CLIENT_SECRET=your-google-client-secret
HERMES_OAUTH_GOOGLE_REDIRECT_URL=http://localhost:8080/auth/google/callback

# GitHub OAuth2
HERMES_OAUTH_GITHUB_CLIENT_ID=your-github-client-id
HERMES_OAUTH_GITHUB_CLIENT_SECRET=your-github-client-secret
HERMES_OAUTH_GITHUB_REDIRECT_URL=http://localhost:8080/auth/github/callback

# Okta OAuth2 (Enterprise)
HERMES_OAUTH_OKTA_DOMAIN=your-domain.okta.com
HERMES_OAUTH_OKTA_CLIENT_ID=your-okta-client-id
HERMES_OAUTH_OKTA_CLIENT_SECRET=your-okta-client-secret
HERMES_OAUTH_OKTA_REDIRECT_URL=http://localhost:8080/auth/okta/callback

# SSH Service Configuration
HERMES_SSH_SERVICE_URL=http://localhost:8081
HERMES_SSH_DEFAULT_PORT=22
HERMES_SSH_CONNECTION_TIMEOUT=30s
HERMES_SSH_MAX_SESSIONS_PER_USER=10
HERMES_SSH_SESSION_TTL=4h

# SSH Key Management
HERMES_SSH_KEYS_PATH=./keys
HERMES_SSH_HOST_KEY_CHECKING=strict  # strict, ask, off

# Session Recording Configuration
HERMES_RECORDING_ENABLED=true
HERMES_RECORDING_STORAGE_TYPE=file  # file, s3
HERMES_RECORDING_BASE_PATH=./recordings
HERMES_RECORDING_COMPRESSION=gzip
HERMES_RECORDING_RETENTION_DAYS=90

# S3 Storage (if using S3 for recordings)
HERMES_RECORDING_S3_BUCKET=hermes-recordings
HERMES_RECORDING_S3_REGION=us-east-1
HERMES_RECORDING_S3_ACCESS_KEY=your-s3-access-key
HERMES_RECORDING_S3_SECRET_KEY=your-s3-secret-key

# Firewall Service Configuration
HERMES_FIREWALL_SERVICE_URL=http://localhost:8082
HERMES_FIREWALL_BACKEND=nftables  # nftables, iptables
HERMES_FIREWALL_BACKUP_ENABLED=true
HERMES_FIREWALL_BACKUP_RETENTION=30  # days

# Reverse Proxy Configuration
HERMES_PROXY_SERVICE_URL=http://localhost:8083
HERMES_PROXY_BACKEND=nginx  # nginx, caddy
HERMES_PROXY_CONFIG_PATH=/etc/nginx/sites-available
HERMES_PROXY_SSL_PROVIDER=letsencrypt  # letsencrypt, manual
HERMES_PROXY_SSL_EMAIL=admin@yourcompany.com

# Notification Service Configuration
HERMES_NOTIFICATION_SERVICE_URL=http://localhost:8084

# Email Configuration (choose one provider)
# Mailgun
HERMES_EMAIL_PROVIDER=mailgun  # mailgun, ses, smtp
HERMES_EMAIL_MAILGUN_API_KEY=your-mailgun-api-key
HERMES_EMAIL_MAILGUN_DOMAIN=mail.yourcompany.com

# Amazon SES
# HERMES_EMAIL_SES_ACCESS_KEY=your-ses-access-key
# HERMES_EMAIL_SES_SECRET_KEY=your-ses-secret-key
# HERMES_EMAIL_SES_REGION=us-east-1

# SMTP
# HERMES_EMAIL_SMTP_HOST=smtp.yourcompany.com
# HERMES_EMAIL_SMTP_PORT=587
# HERMES_EMAIL_SMTP_USERNAME=your-smtp-username
# HERMES_EMAIL_SMTP_PASSWORD=your-smtp-password

# Email settings
HERMES_EMAIL_FROM_ADDRESS=noreply@yourcompany.com
HERMES_EMAIL_FROM_NAME=Hermes Platform

# Webhook Configuration
HERMES_WEBHOOK_SECRET=your-webhook-secret-for-verification
HERMES_WEBHOOK_RETRY_ATTEMPTS=3
HERMES_WEBHOOK_RETRY_DELAY=5s

# Monitoring & Observability

# Prometheus metrics
HERMES_METRICS_ENABLED=true
HERMES_METRICS_PATH=/metrics
HERMES_METRICS_PORT=9090

# Distributed tracing
HERMES_TRACING_ENABLED=false
HERMES_TRACING_ENDPOINT=http://localhost:14268/api/traces
HERMES_TRACING_SERVICE_NAME=hermes-api-gateway

# Health check
HERMES_HEALTH_CHECK_PATH=/health
HERMES_HEALTH_CHECK_INTERVAL=30s

# Development & Testing
# Only used in development/test environments
HERMES_DEV_MOCK_AUTH=false
HERMES_DEV_MOCK_SSH=false
HERMES_DEV_SEED_DATA=true
HERMES_DEV_AUTO_MIGRATE=true

# Test database (for running tests)
HERMES_TEST_DATABASE_URL=postgresql://hermes_test:hermes_test@localhost:5432/hermes_test?sslmode=disable

# Desktop Application (Wails)
HERMES_DESKTOP_API_URL=http://localhost:8080
HERMES_DESKTOP_AUTO_UPDATE=true
HERMES_DESKTOP_UPDATE_CHANNEL=stable  # stable, beta, dev

# Feature Flags
# Enable/disable features for gradual rollout
HERMES_FEATURE_OAUTH_ENABLED=true
HERMES_FEATURE_RECORDING_ENABLED=true
HERMES_FEATURE_FIREWALL_ENABLED=true
HERMES_FEATURE_PROXY_ENABLED=true
HERMES_FEATURE_NOTIFICATIONS_ENABLED=true
HERMES_FEATURE_DESKTOP_APP_ENABLED=true

# Performance Tuning
# Adjust based on your system resources
HERMES_WORKER_POOL_SIZE=10
HERMES_MAX_CONCURRENT_SESSIONS=1000
HERMES_REQUEST_TIMEOUT=30s
HERMES_GRACEFUL_SHUTDOWN_TIMEOUT=30s

# Security Headers & Policies
HERMES_SECURITY_FRAME_DENY=true
HERMES_SECURITY_CONTENT_TYPE_NOSNIFF=true
HERMES_SECURITY_XSS_PROTECTION=true
HERMES_SECURITY_HSTS_MAX_AGE=31536000
HERMES_SECURITY_CSP_POLICY=default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'

# Backup & Recovery
HERMES_BACKUP_ENABLED=true
HERMES_BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
HERMES_BACKUP_RETENTION_DAYS=30
HERMES_BACKUP_S3_BUCKET=hermes-backups
HERMES_BACKUP_ENCRYPTION_KEY=your-backup-encryption-key

# Compliance & Audit
HERMES_AUDIT_LOG_RETENTION_DAYS=2555  # 7 years for compliance
HERMES_COMPLIANCE_MODE=soc2  # soc2, gdpr, hipaa, none
HERMES_DATA_RETENTION_POLICY=standard  # minimal, standard, extended

# Custom Configuration